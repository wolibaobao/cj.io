webpackJsonp([4],{"3cXf":function(t,e,n){t.exports={default:n("VWiu"),__esModule:!0}},FrY7:function(t,e){},SOMV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("3cXf"),a=n.n(s),i={data:function(){return{running:!1,members:[],hy_txt:"",is_txt:!1,show2:!1,list:[],ks_stop:"开始抽奖",screenWidth:document.documentElement.clientWidth,screenHeight:document.documentElement.clientHeight}},watch:{currentAward:function(){this.batchPlayers=[]}},methods:{toggle:function(){var t=this;this.running?(this.stop(),this.ks_stop="开始抽奖",this.$axios.post(this.$url+"/choujiang/draw").then(function(e){e.data.result?(t.is_txt=!0,t.hy_txt=e.data.pojo.prize_name,t.list.push({name:e.data.pojo.prize_name}),setTimeout(function(){t.show2=!0},1e3)):t.$message({message:e.data.msg,showClose:!0,type:"error"})}).catch(function(t){console.log(t)})):(this.start(),this.ks_stop="暂停",this.is_txt=!1)},getSpeed:function(){return[.1*Math.random()+.01,-(.1*Math.random()+.01)]},start:function(){this.running=!0,TagCanvas.SetSpeed("myCanvas",[5,1])},stop:function(){var t=this;this.running=!1,TagCanvas.SetSpeed("myCanvas",[0,0]),setTimeout(function(){TagCanvas.SetSpeed("myCanvas",t.getSpeed())},500)},init:function(){try{TagCanvas.Start("myCanvas","tags",{textColour:"#ca2424",dragControl:3,decel:.95,textHeight:18,minSpeed:.01,shadow:"#333",shadowOffset:[0,0],zoom:"0.85",wheelZoom:!1,textFont:"微软雅黑",initial:[.1*Math.random()+.01,-(.1*Math.random()+.01)]})}catch(t){document.getElementById("myCanvasContainer").style.display="none"}},copy:function(t){return JSON.parse(a()(t))}},created:function(){console.log(2)},mounted:function(){var t=this;this.$axios.post(this.$url+"/choujiang/search",{}).then(function(e){var n=e.data.pojo;localStorage.setItem("members",a()(n)),localStorage.setItem("players",a()(n));var s=JSON.parse(localStorage.getItem("members"))||window.members;console.log(s),t.players=JSON.parse(localStorage.getItem("players"))||s,t.members=t.copy(s),localStorage.setItem("players",a()(t.players));var i=t.$refs.canvas;i.width=document.body.offsetWidth,i.height=document.body.offsetHeight,t.$nextTick(function(){this.init()}),document.body.addEventListener("keyup",t.onKeyup);var o=t;window.onresize=function(){o.screenWidth=document.documentElement.clientWidth,o.screenHeight=document.documentElement.clientHeight}}).catch(function(t){console.log(t)})}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body"},[n("div",{staticClass:"bg"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_txt,expression:"is_txt"}],staticClass:"hy_txt animated zoomIn"},[t._v("\n\t\t\t"+t._s(t.hy_txt)+"\n\t\t")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show2,expression:"show2"}],staticClass:"Listofwinners animated zoomIn"},[n("div",{staticClass:"Listofwinners_txt"},[n("h2",[t._v("恭喜获奖名单")]),t._v(" "),t._l(t.list,function(e,s){return n("p",{key:s},[t._v(t._s(e.name))])})],2)]),t._v(" "),n("div",{staticClass:"left_box"},[n("div",{staticClass:"cj",on:{click:t.toggle}},[t._v("\n\t\t\t\t"+t._s(t.ks_stop)+"\n\t\t\t")])]),t._v(" "),n("div",{staticClass:"animated zoomIn",staticStyle:{position:"fixed",top:"-20px"},attrs:{id:"myCanvasContainer"}},[n("canvas",{ref:"canvas",attrs:{width:t.screenWidth,height:t.screenHeight,id:"myCanvas"}},[n("p",[t._v("换个现代浏览器吧！")])])]),t._v(" "),n("div",{staticStyle:{display:"none"},attrs:{id:"tags"}},[n("ul",t._l(t.members,function(e,s){return n("li",{key:s},[n("a",{staticStyle:{height:"auto","font-size":"40px"},attrs:{href:"#"}},[n("div",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.prize_name)+"\n\t\t\t\t\t\t")])])])}),0)])])])},staticRenderFns:[]};var r=n("C7Lr")(i,o,!1,function(t){n("FrY7")},"data-v-56cc7e29",null);e.default=r.exports},VWiu:function(t,e,n){var s=n("DH3n"),a=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}}});
//# sourceMappingURL=4.926df1ce2ec5ef4041d2.js.map